{"ast":null,"code":"import _asyncToGenerator from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import requests from\"../../requests\";import CommentDialogButton from\"../Posts/CommentDialog\";import'./Post.css';import{Alert,Avatar,Button,ListItem,ListItemAvatar,ListItemText,ListItemSecondaryAction,ImageListItem,TextField}from\"@mui/material\";import ReactMarkdown from'react-markdown';import ThumbUp from'@mui/icons-material/ThumbUp';import Send from'@mui/icons-material/Send';import ShareIcon from'@mui/icons-material/Share';import{ClassNames}from\"@emotion/react\";// assuming props contains all the post attributes\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Post(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),commentText=_useState4[0],setCommentText=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),liked=_useState6[0],setLiked=_useState6[1];var styles=function styles(theme){return{listItemText:{fontSize:'1'}};};var like=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;data={summary:\"\".concat(props.currentUser.displayName,\" likes your post.\"),type:\"Like\",author:props.currentUser.id,object:\"\".concat(props.post.author.id,\"/posts/\").concat(props.post.id)};// prevents sending a like twice when liking your own post\nif(!(props.currentUser.id!=props.post.author.id)){_context.next=6;break;}_context.next=5;return requests.post(\"authors/\".concat(props.post.author.id,\"/inbox/\"),data,{headers:{Authorization:localStorage.getItem('access_token'),accept:'application/json'}},{withCredentials:true});case 5:response=_context.sent;case 6:// change summary of like, to send like to your own inbox\ndata.summary=\"You liked \".concat(props.post.author.displayName,\"'s post.\");sendToSelf(data);setLiked(true);_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);setMessage({message:\"Failed to send like.\",severity:\"error\"});case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function like(){return _ref.apply(this,arguments);};}();var share=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!props.isPublic){_context2.next=6;break;}// add type to data\nprops.post.type='post';sendToFollowers(props.post);// if post is private, make a copy then send to followers\n_context2.next=13;break;case 6:url=\"authors/\"+props.currentUser.id+\"/posts/\";_context2.next=9;return requests.post(url,{headers:{accept:\"application/json\"},title:props.post.title,author:props.currentUser.id,contentType:props.post.contentType,content:props.post.content,description:props.post.description,visibility:props.post.visibility,unlisted:props.post.unlisted,categories:props.post.categories,viewableBy:''});case 9:response=_context2.sent;response.data.type='post';sendToSelf(response.data);sendToFollowers(response.data);case 13:setMessage({message:\"Shared post to followers.\",severity:\"success\"});_context2.next=19;break;case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](0);setMessage({message:\"Failed to share post.\",severity:\"error\"});case 19:case\"end\":return _context2.stop();}}},_callee2,null,[[0,16]]);}));return function share(){return _ref2.apply(this,arguments);};}();var sendToFollowers=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(my_post){var response,followerList,index,follower;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return requests.get(\"authors/\".concat(props.currentUser.id,\"/followers/\"));case 2:response=_context3.sent;followerList=response.data.items;// For each follower: send post to inbox\nindex=0;case 5:if(!(index<followerList.length)){_context3.next=12;break;}follower=followerList[index];_context3.next=9;return requests.post(\"authors/\".concat(follower.id,\"/inbox/\"),my_post,{headers:{Authorization:localStorage.getItem('access_token'),accept:'application/json'}},{withCredentials:true});case 9:++index;_context3.next=5;break;case 12:case\"end\":return _context3.stop();}}},_callee3);}));return function sendToFollowers(_x){return _ref3.apply(this,arguments);};}();// send a like or comment notification to your own inbox\nvar sendToSelf=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(my_item){var response_self;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return requests.post(\"authors/\".concat(props.currentUser.id,\"/inbox/\"),my_item,{headers:{Authorization:localStorage.getItem('access_token'),accept:'application/json'}},{withCredentials:true});case 2:response_self=_context4.sent;case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function sendToSelf(_x2){return _ref4.apply(this,arguments);};}();useEffect(function(){setLiked(props.likedByCurrent);},[]);return/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemText,{id:\"title\",primaryTypographyProps:{fontSize:'30px'},primary:props.post.title}),/*#__PURE__*/_jsx(ListItemText,{id:\"author\",primary:\"By: \"+props.post.author.displayName}),props.post.contentType==\"text/markdown\"&&/*#__PURE__*/_jsx(ReactMarkdown,{children:props.post.content}),props.post.contentType==\"text/plain\"&&/*#__PURE__*/_jsx(ListItemText,{primary:props.post.content}),(props.post.contentType==\"application/base64\"||props.post.contentType==\"image/png;base64\"||props.post.contentType==\"image/jpeg;base64\")&&/*#__PURE__*/_jsx(ImageListItem,{children:/*#__PURE__*/_jsx(\"img\",{src:props.post.content})}),/*#__PURE__*/_jsx(ListItemText,{id:\"description\",primary:props.post.description}),/*#__PURE__*/_jsxs(\"div\",{id:\"comment-like-section\",children:[liked?/*#__PURE__*/_jsx(Button,{disabled:true,variant:\"contained\",children:\"Liked\"}):/*#__PURE__*/_jsx(Button,{id:\"like-button\",startIcon:/*#__PURE__*/_jsx(ThumbUp,{}),onClick:like,children:\"Like\"}),/*#__PURE__*/_jsx(\"span\",{id:\"comment-section\",children:/*#__PURE__*/_jsx(CommentDialogButton,{current_author:props.currentUser.id,post_id:props.post.id,author_id:props.post.author})}),/*#__PURE__*/_jsx(\"span\",{id:\"share-section\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(ShareIcon,{}),onClick:share,children:\"Share\"})}),message.message&&/*#__PURE__*/_jsx(Alert,{severity:message.severity,children:message.message})]})]});}","map":{"version":3,"sources":["/Users/victorlieu/Desktop/Development/reactdeploy/frontend/src/components/Inbox/Post.js"],"names":["React","useState","useEffect","requests","CommentDialogButton","Alert","Avatar","Button","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","ImageListItem","TextField","ReactMarkdown","ThumbUp","Send","ShareIcon","ClassNames","Post","props","message","setMessage","commentText","setCommentText","liked","setLiked","styles","theme","listItemText","fontSize","like","data","summary","currentUser","displayName","type","author","id","object","post","headers","Authorization","localStorage","getItem","accept","withCredentials","response","sendToSelf","console","log","severity","share","isPublic","sendToFollowers","url","title","contentType","content","description","visibility","unlisted","categories","viewableBy","my_post","get","followerList","items","index","length","follower","my_item","response_self","likedByCurrent"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport requests from \"../../requests\";\nimport CommentDialogButton from \"../Posts/CommentDialog\";\nimport './Post.css'\n\nimport { Alert,\n        Avatar,\n        Button,\n        ListItem,\n        ListItemAvatar,\n        ListItemText,\n        ListItemSecondaryAction,\n        ImageListItem,\n        TextField,\n        } from \"@mui/material\";\nimport ReactMarkdown from 'react-markdown'\nimport ThumbUp from '@mui/icons-material/ThumbUp'\nimport Send from '@mui/icons-material/Send'\nimport ShareIcon from '@mui/icons-material/Share';\nimport { ClassNames } from \"@emotion/react\";\n\n// assuming props contains all the post attributes\nexport default function Post(props) {\n  const [message, setMessage] = useState({});\n    const [commentText, setCommentText] = useState(\"\")\n    const [liked, setLiked] = useState(false)\n\n    const styles = theme => ({\n        listItemText:{\n          fontSize: '1',\n        }\n      });\n\n    const like = async () => {\n        // send POST request to authors/{authorId}/inbox/ with a like\n        try {\n          const data = {\n            summary: `${props.currentUser.displayName} likes your post.`,\n            type: \"Like\",\n            author: props.currentUser.id,\n            object: `${props.post.author.id}/posts/${props.post.id}`\n          }\n          // prevents sending a like twice when liking your own post\n          if (props.currentUser.id != props.post.author.id){\n            const response = await requests.post(`authors/${props.post.author.id}/inbox/`,\n              data,\n              {headers: {\n                Authorization: localStorage.getItem('access_token'),\n                accept: 'application/json',\n              }},\n              {withCredentials: true});\n          }\n          \n          // change summary of like, to send like to your own inbox\n          data.summary = `You liked ${props.post.author.displayName}'s post.`\n          sendToSelf(data);\n         setLiked(true)\n        } catch (e) {\n          console.log(e)\n          setMessage({message: \"Failed to send like.\", severity: \"error\"});\n        }   \n    }\n\n    const share = async () => {\n      try {\n        // if post is public, send to followers\n        if (props.isPublic) {\n          // add type to data\n          props.post.type = 'post'\n          sendToFollowers(props.post);\n        // if post is private, make a copy then send to followers\n        } else {\n          const url = \"authors/\" + props.currentUser.id + \"/posts/\";\n          const response = await requests.post(url, {\n          headers: {\n            accept: \"application/json\",\n          },\n          title: props.post.title,\n          author: props.currentUser.id,\n          contentType: props.post.contentType,\n          content: props.post.content,\n          description: props.post.description,\n          visibility: props.post.visibility,\n          unlisted: props.post.unlisted,\n          categories: props.post.categories,\n          viewableBy: '',\n        });\n\n        response.data.type = 'post'\n        sendToSelf(response.data)\n        sendToFollowers(response.data);\n        }\n      setMessage({message: \"Shared post to followers.\", severity: \"success\"});\n      } catch(e) {\n        setMessage({message: \"Failed to share post.\", severity: \"error\"});\n      }\n\n    }\n\n    const sendToFollowers = async (my_post) => {\n      // Get Followers\n      const response = await requests.get(\n        `authors/${props.currentUser.id}/followers/`\n      );\n      const followerList = response.data.items;\n  \n      // For each follower: send post to inbox\n      for (let index = 0; index < followerList.length; ++index) {\n        const follower = followerList[index];\n        await requests.post(\n          `authors/${follower.id}/inbox/`,\n          my_post,\n          {headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json',\n          }},\n          {withCredentials:true});\n      }\n    };\n  \n    // send a like or comment notification to your own inbox\n    const sendToSelf = async (my_item) => {\n      const response_self = await requests.post(\n        `authors/${props.currentUser.id}/inbox/`,\n        my_item,\n        {headers: {\n          Authorization: localStorage.getItem('access_token'),\n          accept: 'application/json',\n        }},\n        {withCredentials:true});\n    };\n\n    useEffect(() => {\n      setLiked(props.likedByCurrent);\n    }, [])\n\n    return (\n      <ListItem>\n        <ListItemText\n          id=\"title\"\n          primaryTypographyProps={{fontSize: '30px'}}\n          primary={props.post.title}\n        />\n        <ListItemText\n          id=\"author\"\n          primary={\"By: \" + props.post.author.displayName}\n        />\n        {props.post.contentType == \"text/markdown\" && <ReactMarkdown>\n          {props.post.content}\n          </ReactMarkdown>}\n        {(props.post.contentType == \"text/plain\") && <ListItemText\n          primary={props.post.content}\n        />}\n        {(props.post.contentType == \"application/base64\" || props.post.contentType == \"image/png;base64\" || props.post.contentType == \"image/jpeg;base64\") && <ImageListItem\n          children={<img src={props.post.content}></img>}\n        />}\n        <ListItemText\n          id=\"description\"\n          primary={props.post.description}\n        />\n        <div id=\"comment-like-section\">\n        {liked ? (<Button\n                    disabled\n                    variant=\"contained\">\n                      Liked\n                    </Button>)  \n            : (<Button \n              id=\"like-button\"\n              startIcon={<ThumbUp />}\n              onClick={like}>\n                  Like\n              </Button>)}\n            \n            <span id=\"comment-section\">\n                <CommentDialogButton\n                current_author = {props.currentUser.id}\n                post_id = {props.post.id}\n                author_id = {props.post.author}/>\n            </span>\n            <span id=\"share-section\">\n              <Button\n                variant=\"contained\"\n                startIcon={<ShareIcon />}\n                onClick={share}>\n                  Share\n              </Button>\n            </span>\n        {message.message && (\n        <Alert severity={message.severity}>\n          {message.message}\n        </Alert>\n        )}\n        </div>\n      </ListItem>\n    );\n}"]},"metadata":{},"sourceType":"module"}