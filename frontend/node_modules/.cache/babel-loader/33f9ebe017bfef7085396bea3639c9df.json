{"ast":null,"code":"import _defineProperty from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/victorlieu/Desktop/Development/reactdeploy/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState,Component}from\"react\";import{Button,TextField,Alert,AlertTitle}from\"@mui/material\";import\"../../styles/login-register.css\";import requests from\"../../requests\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);var _super=_createSuper(Register);function Register(){var _this;_classCallCheck(this,Register);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\",confirm_password:\"\",registration_error:false,registration_success:false,error_messages:\"\"};_this.handleRegister=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!_this.validateRegister()){_context.next=14;break;}_context.prev=1;_context.next=4;return requests.post(\"register/\",{username:_this.state.username,password:_this.state.password});case 4:response=_context.sent;_this.setState({registration_error:false});_this.setState({registration_success:true});_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);_this.setState({registration_error:true});_this.setState({registration_success:false});_this.setState({error_messages:\"Error occurred during registration\"});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return _this;}_createClass(Register,[{key:\"validateRegister\",value:function validateRegister(){if(!this.state.username){this.setState({registration_error:true});this.setState({registration_success:false});this.setState({error_messages:\"Username is empty\"});return false;}if(!this.state.password){this.setState({registration_error:true});this.setState({registration_success:false});this.setState({error_messages:\"Password is Empty\"});return false;}if(!(this.state.password==this.state.confirm_password)){this.setState({registration_error:true});this.setState({registration_success:false});this.setState({error_messages:\"Passwords do not Match\"});return false;}return true;}},{key:\"render\",value:function render(){var _this2=this,_jsx2,_jsx3;return/*#__PURE__*/_jsx(\"body\",{className:\"background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[this.state.registration_success&&/*#__PURE__*/_jsx(Alert,{className:\"alert\",severity:\"success\",children:/*#__PURE__*/_jsx(AlertTitle,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Account Successfully Created\"})})}),this.state.registration_error&&/*#__PURE__*/_jsx(Alert,{className:\"alert\",severity:\"error\",children:/*#__PURE__*/_jsx(AlertTitle,{children:/*#__PURE__*/_jsx(\"strong\",{children:this.state.error_messages})})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Social Distributions\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Create a new account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",children:[/*#__PURE__*/_jsx(TextField,{className:\"text-input\",size:\"small\",type:\"text\",label:\"Username\",value:this.state.username,onChange:function onChange(_ref2){var target=_ref2.target;return _this2.setState({username:target.value});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,(_jsx2={className:\"text-input\",size:\"small\",type:\"text\"},_defineProperty(_jsx2,\"type\",\"password\"),_defineProperty(_jsx2,\"label\",\"Password\"),_defineProperty(_jsx2,\"value\",this.state.password),_defineProperty(_jsx2,\"onChange\",function onChange(_ref3){var target=_ref3.target;return _this2.setState({password:target.value});}),_jsx2)),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,(_jsx3={className:\"text-input\",size:\"small\",type:\"text\"},_defineProperty(_jsx3,\"type\",\"password\"),_defineProperty(_jsx3,\"label\",\"Confirm Password\"),_defineProperty(_jsx3,\"value\",this.state.confirm_password),_defineProperty(_jsx3,\"onChange\",function onChange(_ref4){var target=_ref4.target;return _this2.setState({confirm_password:target.value});}),_jsx3)),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{disabled:this.state.loginBtnDisabled,color:\"primary\",variant:\"contained\",onClick:this.handleRegister,ref:function ref(node){return _this2.btn=node;},children:\"Register\"}),/*#__PURE__*/_jsx(NavLink,{style:{textDecoration:'none',position:'relative',top:'30px'},to:\"/\",children:\"Have an account? Log in\"})]})]})});}}]);return Register;}(Component);export default Register;","map":{"version":3,"sources":["/Users/victorlieu/Desktop/Development/reactdeploy/frontend/src/components/LoginRegister/Register.js"],"names":["React","useEffect","useState","Component","Button","TextField","Alert","AlertTitle","requests","NavLink","Register","state","username","password","confirm_password","registration_error","registration_success","error_messages","handleRegister","validateRegister","post","response","setState","target","value","loginBtnDisabled","node","btn","textDecoration","position","top"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Component } from \"react\";\nimport {\n    Button,\n    TextField,\n    Alert,\n    AlertTitle\n  } from \"@mui/material\";\nimport \"../../styles/login-register.css\";\nimport requests from \"../../requests\";\nimport { NavLink } from \"react-router-dom\";\n  \nclass Register extends Component {\n    state = {\n          username: \"\",\n          password: \"\",\n          confirm_password: \"\",\n          registration_error: false,\n          registration_success: false,\n          error_messages: \"\"\n      }\n\n    validateRegister() {\n        if (!this.state.username) {\n            this.setState({registration_error: true})\n            this.setState({registration_success: false})\n            this.setState({error_messages: \"Username is empty\"})\n            return false\n        }\n        if (!this.state.password) {\n            this.setState({registration_error: true})\n            this.setState({registration_success: false})\n            this.setState({error_messages: \"Password is Empty\"})\n            return false\n        }\n        if (!(this.state.password == this.state.confirm_password)) {\n            this.setState({registration_error: true})\n            this.setState({registration_success: false})\n            this.setState({error_messages: \"Passwords do not Match\"})\n            return false\n        }\n        return true;\n    }\n\n    handleRegister = async () => {\n        if(this.validateRegister()) {\n            try {\n                const response = await requests.post(`register/`, {\n                    username: this.state.username,\n                    password: this.state.password\n                });\n                this.setState({registration_error: false})\n                this.setState({registration_success: true})\n            }\n            catch {\n                this.setState({registration_error: true})\n                this.setState({registration_success: false})\n                this.setState({error_messages: \"Error occurred during registration\"})\n            }\n        }\n    }\n\n  render() {\n      return (\n          <body className=\"background\">\n          <div className=\"login-form\">\n          {this.state.registration_success&&<Alert className=\"alert\"  severity=\"success\">\n                <AlertTitle><strong>Account Successfully Created</strong></AlertTitle>\n            </Alert>}\n            {this.state.registration_error&&<Alert className=\"alert\"  severity=\"error\">\n                <AlertTitle><strong>{this.state.error_messages}</strong></AlertTitle>\n            </Alert>}\n            <h1>\n                Social Distributions\n            </h1>\n            <h3>\n                Create a new account\n            </h3>\n            <div className=\"login-wrapper\">\n            <TextField\n                className=\"text-input\"\n                size=\"small\"\n                type=\"text\"\n                label=\"Username\"\n                value={this.state.username}\n                onChange={({ target }) =>\n                this.setState({\n                username: target.value\n                })}\n            />\n            <br/>\n            <TextField\n                className=\"text-input\"\n                size=\"small\"\n                type=\"text\"\n                type=\"password\"\n                label=\"Password\"\n                value={this.state.password}\n                onChange={({ target }) =>\n                this.setState({\n                password: target.value\n                })}\n            />\n            <br/>\n            <TextField\n                className=\"text-input\"\n                size=\"small\"\n                type=\"text\"\n                type=\"password\"\n                label=\"Confirm Password\"\n                value={this.state.confirm_password}\n                onChange={({ target }) =>\n                this.setState({\n                confirm_password: target.value\n                })}\n            />\n            {/* {this.state.username_error&&<div>HI</div>} */}\n            <br/>\n            <Button\n                disabled={this.state.loginBtnDisabled}\n                color=\"primary\"\n                variant=\"contained\"\n                onClick={this.handleRegister}\n                ref={node => (this.btn = node)}>\n              Register\n            </Button>\n            <NavLink style={{ textDecoration: 'none', position: 'relative', top: '30px' }} to=\"/\">Have an account? Log in</NavLink>\n            </div>\n          </div>\n          </body>\n        );\n    }\n}\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}