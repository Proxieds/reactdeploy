{"ast":null,"code":"var _jsxFileName = \"/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/Following.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport requests from \"../../requests\";\nimport { Alert, Avatar, Button, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction } from \"@mui/material\";\nimport ClearIcon from '@mui/icons-material/Clear'; // assuming props contains all the author attributes of the follower, and the id of the current user\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Following(props) {\n  _s();\n\n  const [error, setError] = useState(\"\");\n\n  const unfollow = async () => {\n    // send DELETE request to\n    try {\n      const response = await requests.delete(`service/authors/${props.id}/followers/${props.currentUserId}/`, {\n        headers: {\n          Authorization: localStorage.getItem('access_token'),\n          accept: 'application/json'\n        }\n      }, {\n        withCredentials: true\n      });\n    } catch {\n      setError(\"Failed to unfollow.\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    divider: true,\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListItemAvatar, {\n      children: /*#__PURE__*/_jsxDEV(Avatar, {\n        src: props.profileImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n      primary: props.displayName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 24\n        }, this),\n        onClick: unfollow,\n        children: \"Unfollow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Following, \"Wysf5k9/9rbzWl+spWgJpEWy35U=\");\n\n_c = Following;\n\nvar _c;\n\n$RefreshReg$(_c, \"Following\");","map":{"version":3,"sources":["/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/Following.js"],"names":["React","useState","requests","Alert","Avatar","Button","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","ClearIcon","Following","props","error","setError","unfollow","response","delete","id","currentUserId","headers","Authorization","localStorage","getItem","accept","withCredentials","profileImage","displayName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,QAAP,MAAqB,gBAArB;AAEA,SAASC,KAAT,EACQC,MADR,EAEQC,MAFR,EAGQC,QAHR,EAIQC,cAJR,EAKQC,YALR,EAMQC,uBANR,QAOe,eAPf;AAQA,OAAOC,SAAP,MAAsB,2BAAtB,C,CAEA;;;AACA,eAAe,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AACrC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMc,QAAQ,GAAG,YAAY;AACzB;AACA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMd,QAAQ,CAACe,MAAT,CAAiB,mBAAkBL,KAAK,CAACM,EAAG,cAAaN,KAAK,CAACO,aAAc,GAA7E,EACvB;AAACC,QAAAA,OAAO,EAAE;AACRC,UAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,cAArB,CADP;AAERC,UAAAA,MAAM,EAAE;AAFA;AAAV,OADuB,EAKrB;AAACC,QAAAA,eAAe,EAAE;AAAlB,OALqB,CAAvB;AAMD,KAPD,CAOE,MAAM;AACNX,MAAAA,QAAQ,CAAC,qBAAD,CAAR;AACD;AACJ,GAZD;;AAaA,sBACE,QAAC,QAAD;AAAU,IAAA,OAAO,MAAjB;AAAA,eACGD,KAAK,iBACN,QAAC,KAAD;AAAO,MAAA,QAAQ,EAAC,OAAhB;AAAA,gBACGA;AADH;AAAA;AAAA;AAAA;AAAA,YAFF,eAME,QAAC,cAAD;AAAA,6BACE,QAAC,MAAD;AACA,QAAA,GAAG,EAAED,KAAK,CAACc;AADX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YANF,eAWE,QAAC,YAAD;AACE,MAAA,OAAO,EAAEd,KAAK,CAACe;AADjB;AAAA;AAAA;AAAA;AAAA,YAXF,eAcE,QAAC,uBAAD;AAAA,6BACE,QAAC,MAAD;AACE,QAAA,SAAS,eAAE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBADb;AAEE,QAAA,OAAO,EAAEZ,QAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAdF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAwBH;;GAxCuBJ,S;;KAAAA,S","sourcesContent":["import React, {useState} from \"react\";\nimport requests from \"../../requests\";\n\nimport { Alert,\n        Avatar,\n        Button,\n        ListItem,\n        ListItemAvatar,\n        ListItemText,\n        ListItemSecondaryAction,\n        } from \"@mui/material\";\nimport ClearIcon from '@mui/icons-material/Clear'\n\n// assuming props contains all the author attributes of the follower, and the id of the current user\nexport default function Following(props) {\n    const [error, setError] = useState(\"\");\n\n    const unfollow = async () => {\n        // send DELETE request to\n        try {\n          const response = await requests.delete(`service/authors/${props.id}/followers/${props.currentUserId}/`,\n          {headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json',\n            }},\n            {withCredentials: true});\n        } catch {\n          setError(\"Failed to unfollow.\");\n        }   \n    }\n    return (\n      <ListItem divider>\n        {error && (\n        <Alert severity=\"error\">\n          {error}\n        </Alert>\n        )}\n        <ListItemAvatar>\n          <Avatar\n          src={props.profileImage}\n          />\n        </ListItemAvatar>\n        <ListItemText\n          primary={props.displayName}\n        />\n        <ListItemSecondaryAction>\n          <Button \n            startIcon={<ClearIcon />}\n            onClick={unfollow}>\n              Unfollow\n          </Button>\n        </ListItemSecondaryAction>\n      </ListItem>\n    );\n}"]},"metadata":{},"sourceType":"module"}