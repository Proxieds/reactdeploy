{"ast":null,"code":"var _jsxFileName = \"/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/FollowRequest.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport requests from \"../../requests\";\nimport { Alert, Avatar, Button, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction } from \"@mui/material\";\nimport ClearIcon from '@mui/icons-material/Clear';\nimport CheckIcon from '@mui/icons-material/Check'; // assuming props contains all the author attributes of the person who\n// sent the follow request, and the id of the current user\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FollowRequest(props) {\n  _s();\n\n  const [message, setMessage] = useState({});\n  const [accepted, setAccepted] = useState(false);\n\n  const acceptFollowRequest = async () => {\n    // send PUT request to author_id/followers/follower_id\n    console.log('clicked accept');\n\n    try {\n      const response = await requests.put(`service/authors/${props.currentUserId}/followers/${props.id}/`, {\n        headers: {\n          Authorization: localStorage.getItem('access_token'),\n          accept: 'application/json'\n        }\n      }, {\n        withCredentials: true\n      });\n      setMessage({\n        message: \"Accepted follow request.\",\n        severity: \"success\"\n      });\n    } catch {\n      setMessage({\n        message: \"Failed to accept follow request.\",\n        severity: \"error\"\n      });\n    }\n  };\n\n  const rejectFollowRequest = async () => {\n    // send DELETE request to author_id/followers/follower_id\n    console.log('clicked reject');\n\n    try {\n      const response = await requests.delete(`service/authors/${props.currentUserId}/followers/${props.id}/`, {\n        headers: {\n          Authorization: localStorage.getItem('access_token'),\n          accept: 'application/json'\n        }\n      }, {\n        withCredentials: true\n      });\n      setMessage({\n        message: \"Rejected follow request.\",\n        severity: \"success\"\n      });\n    } catch {\n      setMessage({\n        message: \"Failed to reject follow request.\",\n        severity: \"error\"\n      });\n    }\n  };\n\n  useEffect(() => {\n    setAccepted(props.accepted);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    children: [message.message && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: message.severity,\n      children: message.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListItemAvatar, {\n      children: /*#__PURE__*/_jsxDEV(Avatar, {\n        src: props.profileImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), accepted ? /*#__PURE__*/_jsxDEV(ListItemText, {\n      primary: \"You accepted \" + props.displayName + \"\\'s follow request\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 22\n    }, this) : /*#__PURE__*/_jsxDEV(ListItemText, {\n      primary: props.displayName + \" wants to follow you\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 16\n    }, this), !accepted && /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(CheckIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 24\n        }, this),\n        onClick: acceptFollowRequest,\n        children: \"Accept\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 24\n        }, this),\n        onClick: rejectFollowRequest,\n        children: \"Reject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 7\n  }, this);\n}\n\n_s(FollowRequest, \"W8BGwzKOkuDlE5USup5zpzINXQA=\");\n\n_c = FollowRequest;\n\nvar _c;\n\n$RefreshReg$(_c, \"FollowRequest\");","map":{"version":3,"sources":["/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/FollowRequest.js"],"names":["React","useState","useEffect","requests","Alert","Avatar","Button","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","ClearIcon","CheckIcon","FollowRequest","props","message","setMessage","accepted","setAccepted","acceptFollowRequest","console","log","response","put","currentUserId","id","headers","Authorization","localStorage","getItem","accept","withCredentials","severity","rejectFollowRequest","delete","profileImage","displayName"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport requests from \"../../requests\";\n\nimport { Alert,\n        Avatar,\n        Button,\n        ListItem,\n        ListItemAvatar,\n        ListItemText,\n        ListItemSecondaryAction,\n        } from \"@mui/material\";\nimport ClearIcon from '@mui/icons-material/Clear'\nimport CheckIcon from '@mui/icons-material/Check'\n\n// assuming props contains all the author attributes of the person who\n// sent the follow request, and the id of the current user\nexport default function FollowRequest(props) {\n    const [message, setMessage] = useState({});\n    const [accepted, setAccepted] = useState(false);\n\n    const acceptFollowRequest = async () => {\n        // send PUT request to author_id/followers/follower_id\n        console.log('clicked accept');\n        try {\n          const response = await requests.put(`service/authors/${props.currentUserId}/followers/${props.id}/`,\n          {headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json',\n          }},\n          {withCredentials: true});\n          setMessage({message: \"Accepted follow request.\", severity: \"success\"});\n        } catch {\n          setMessage({message: \"Failed to accept follow request.\", severity: \"error\"});\n        }   \n    }\n\n\n    const rejectFollowRequest = async () => {\n        // send DELETE request to author_id/followers/follower_id\n        console.log('clicked reject')\n        try {\n          const response = await requests.delete(`service/authors/${props.currentUserId}/followers/${props.id}/`,\n          {headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json',\n          }},\n          {withCredentials: true});\n          setMessage({message: \"Rejected follow request.\", severity: \"success\"});\n        } catch {\n          setMessage({message: \"Failed to reject follow request.\", severity: \"error\"});\n        }   \n    }\n    useEffect(() => {\n      setAccepted(props.accepted);\n    }, [])\n\n    return (\n      <ListItem>\n        {message.message && (\n        <Alert severity={message.severity}>\n          {message.message}\n        </Alert>\n        )}\n        <ListItemAvatar>\n          <Avatar\n          src={props.profileImage}\n          />\n        </ListItemAvatar>\n        {accepted ? (<ListItemText primary={\"You accepted \" + props.displayName + \"\\'s follow request\"}/>)  \n            : (<ListItemText primary={props.displayName + \" wants to follow you\"}\n        />)}\n        {!accepted && <ListItemSecondaryAction>\n          <Button \n            startIcon={<CheckIcon />}\n            onClick={acceptFollowRequest}>\n              Accept\n          </Button>\n          <Button \n            startIcon={<ClearIcon />}\n            onClick={rejectFollowRequest}>\n              Reject\n          </Button>\n        </ListItemSecondaryAction>}\n      </ListItem>\n    );\n}"]},"metadata":{},"sourceType":"module"}