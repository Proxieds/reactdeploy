{"ast":null,"code":"var _jsxFileName = \"/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/FriendsPage.js\";\nimport React from \"react\";\nimport requests from \"../../requests\";\nimport { Alert, Button, List, Grid, Box, TextField } from \"@mui/material\";\nimport PersonAddIcon from '@mui/icons-material/PersonAdd';\nimport Follower from \"./Follower\";\nimport Following from \"./Following\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass FriendsPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.initializeDetails = async () => {\n      try {\n        // Get the author details\n        const response = await requests.get('service/get-user/', {\n          headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json'\n          }\n        });\n        this.setState({\n          currentUser: {\n            id: response.data.id ? response.data.id : '',\n            url: response.data.url ? response.data.url : '',\n            host: response.data.host ? response.data.host : '',\n            displayName: response.data.displayName ? response.data.displayName : '',\n            github: response.data.github ? response.data.github : '',\n            profileImage: response.data.profileImage ? response.data.profileImage : ''\n          }\n        });\n        const response_follower = await requests.get(`service/authors/${this.state.currentUser.id}/followers/`);\n        this.setState({\n          followerList: response_follower.data.items\n        });\n        const response_following = await requests.get(`service/authors/${this.state.currentUser.id}/following/`);\n        this.setState({\n          followingList: response_following.data.items\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.sendFollowRequest = async () => {\n      try {\n        const data = {\n          type: 'follow',\n          summary: `${this.state.currentUser} wants to follow ${this.state.addFollowerId}`\n        };\n        const response = await requests.post(`service/authors/${this.state.addFollowerId}/inbox/`, data, {\n          headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json'\n          }\n        }, {\n          withCredentials: true\n        });\n      } catch (error) {\n        this.setState({\n          addFollowerError: \"Failed to Send Follow Request\"\n        });\n      }\n    };\n\n    this.setAddFollowerId = e => {\n      this.setState({\n        addFollowerId: e.target.value\n      });\n    };\n\n    this.state = {\n      currentUser: {},\n      followerList: [],\n      followingList: [],\n      addFollowerId: '',\n      addFollowerError: ''\n    };\n  }\n\n  componentDidMount() {\n    this.initializeDetails();\n  }\n\n  renderFollowers() {\n    return this.state.followerList.map(follower => {\n      return /*#__PURE__*/_jsxDEV(Follower, {\n        displayName: follower.displayName,\n        profileImage: follower.profileImage,\n        currentUserId: this.state.currentUser.id,\n        id: follower.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this);\n    });\n  }\n\n  renderFollowing() {\n    return this.state.followingList.map(follower => {\n      return /*#__PURE__*/_jsxDEV(Following, {\n        displayName: follower.displayName,\n        profileImage: follower.profileImage,\n        currentUserId: this.state.currentUser.id,\n        id: follower.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"friendsPage\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'row',\n          p: 1,\n          m: 1,\n          justifyContent: 'center'\n        },\n        children: [\"Send a Follow Request To:\", /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          onChange: this.setAddFollowerId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(PersonAddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 28\n          }, this),\n          onClick: this.sendFollowRequest,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this), this.state.addFollowerError && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          children: this.state.addFollowerError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Followers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            children: this.renderFollowers()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Following\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            children: this.renderFollowing()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default FriendsPage;","map":{"version":3,"sources":["/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/FriendsPage.js"],"names":["React","requests","Alert","Button","List","Grid","Box","TextField","PersonAddIcon","Follower","Following","FriendsPage","Component","constructor","props","initializeDetails","response","get","headers","Authorization","localStorage","getItem","accept","setState","currentUser","id","data","url","host","displayName","github","profileImage","response_follower","state","followerList","items","response_following","followingList","error","console","log","sendFollowRequest","type","summary","addFollowerId","post","withCredentials","addFollowerError","setAddFollowerId","e","target","value","componentDidMount","renderFollowers","map","follower","renderFollowing","render","display","flexDirection","p","m","justifyContent"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport requests from \"../../requests\";\nimport { Alert, Button, List, Grid, Box, TextField } from \"@mui/material\";\nimport PersonAddIcon from '@mui/icons-material/PersonAdd';\nimport Follower from \"./Follower\";\nimport Following from \"./Following\";\n\n\nclass FriendsPage extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            currentUser: {},\n            followerList: [],\n            followingList: [],\n            addFollowerId: '',\n            addFollowerError: '',\n        }\n    }\n\n    componentDidMount() {\n        this.initializeDetails();\n    }\n\n    initializeDetails = async () => {\n        try {\n            // Get the author details\n            const response = await requests.get('service/get-user/', {headers: {\n                Authorization: localStorage.getItem('access_token'),\n                accept: 'application/json',\n            }});\n            this.setState({ currentUser: {\n                id: response.data.id ? response.data.id : '',\n                url: response.data.url ? response.data.url : '',\n                host: response.data.host ? response.data.host : '',\n                displayName: response.data.displayName ? response.data.displayName : '',\n                github: response.data.github ? response.data.github : '',\n                profileImage: response.data.profileImage ? response.data.profileImage : ''\n            }});\n\n            const response_follower = await requests.get(`service/authors/${this.state.currentUser.id}/followers/`)\n            this.setState({followerList: response_follower.data.items})\n\n            const response_following = await requests.get(`service/authors/${this.state.currentUser.id}/following/`)\n            this.setState({followingList: response_following.data.items})\n        } catch(error) {\n            console.log(error)\n        }\n        \n    }\n\n    sendFollowRequest = async () => {\n        try {\n            const data = {\n                type: 'follow',\n                summary: `${this.state.currentUser} wants to follow ${this.state.addFollowerId}`,\n            }\n            const response = await requests.post(`service/authors/${this.state.addFollowerId}/inbox/`,\n                data,\n                {headers: {\n                Authorization: localStorage.getItem('access_token'),\n                accept: 'application/json',\n                }},\n                {withCredentials:true})\n        } catch(error) {\n            this.setState({addFollowerError: \"Failed to Send Follow Request\"});\n        }\n    }\n\n    setAddFollowerId = (e) => {\n        this.setState({addFollowerId: e.target.value});\n    }\n\n    renderFollowers() {\n        return this.state.followerList.map((follower) => {\n            return (\n                <Follower\n                    displayName={follower.displayName}\n                    profileImage={follower.profileImage}\n                    currentUserId={this.state.currentUser.id}\n                    id={follower.id}\n                />\n            );\n        });\n    }\n\n    renderFollowing() {\n        return this.state.followingList.map((follower) => {\n            return (\n                <Following\n                    displayName={follower.displayName}\n                    profileImage={follower.profileImage}\n                    currentUserId={this.state.currentUser.id}\n                    id={follower.id}\n                />\n            );\n        });\n    }\n\n    render(){\n        return (\n            <div className=\"friendsPage\">\n            <Box sx={{ display: 'flex',\n                       flexDirection: 'row',\n                       p: 1,\n                       m: 1,\n                       justifyContent: 'center'\n                    }}>\n                Send a Follow Request To:\n                <TextField id=\"outlined-basic\" onChange={this.setAddFollowerId}/>\n                <Button \n                startIcon={<PersonAddIcon />}\n                onClick={this.sendFollowRequest}>\n                Send\n                </Button>\n                {this.state.addFollowerError && (\n                <Alert severity=\"error\">\n                {this.state.addFollowerError}\n                </Alert>\n                )}\n            </Box>\n            <Grid container spacing={2}>\n                <Grid item xs={12} md={6}>\n                    <h2>Followers</h2>\n                    <List>\n                        {this.renderFollowers()}\n                    </List>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <h2>Following</h2>\n                    <List>\n                        {this.renderFollowing()}\n                    </List>\n                </Grid>\n            </Grid>\n            </div>\n        )\n    }\n}\n\nexport default FriendsPage"]},"metadata":{},"sourceType":"module"}