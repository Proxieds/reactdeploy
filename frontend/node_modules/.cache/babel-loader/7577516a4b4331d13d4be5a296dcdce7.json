{"ast":null,"code":"var _jsxFileName = \"/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/Following.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport requests from \"../../requests\";\nimport { Alert, Avatar, Button, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction } from \"@mui/material\";\nimport ClearIcon from '@mui/icons-material/Clear'; // assuming props contains all the author attributes of the follower, and the id of the current user\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Following(props) {\n  _s();\n\n  const [message, setMessage] = useState({});\n\n  const unfollow = async () => {\n    // send DELETE request to\n    try {\n      const response = await requests.delete(`service/authors/${props.id}/followers/${props.currentUserId}/`, {\n        headers: {\n          Authorization: localStorage.getItem('access_token'),\n          accept: 'application/json'\n        }\n      }, {\n        withCredentials: true\n      });\n      setMessage({\n        message: \"Unfollowed.\",\n        severity: \"success\"\n      });\n    } catch {\n      setMessage({\n        message: \"Failed to unfollow.\",\n        severity: \"error\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    divider: true,\n    children: [message.message && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: message.severity,\n      children: message.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListItemAvatar, {\n      children: /*#__PURE__*/_jsxDEV(Avatar, {\n        src: props.profileImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n      primary: props.displayName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 24\n        }, this),\n        onClick: unfollow,\n        children: \"Unfollow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Following, \"2EHH+GHnJwvUIfKK0O4RFMD1Cbk=\");\n\n_c = Following;\n\nvar _c;\n\n$RefreshReg$(_c, \"Following\");","map":{"version":3,"sources":["/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/Following.js"],"names":["React","useState","requests","Alert","Avatar","Button","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","ClearIcon","Following","props","message","setMessage","unfollow","response","delete","id","currentUserId","headers","Authorization","localStorage","getItem","accept","withCredentials","severity","profileImage","displayName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,QAAP,MAAqB,gBAArB;AAEA,SAASC,KAAT,EACQC,MADR,EAEQC,MAFR,EAGQC,QAHR,EAIQC,cAJR,EAKQC,YALR,EAMQC,uBANR,QAOe,eAPf;AAQA,OAAOC,SAAP,MAAsB,2BAAtB,C,CAEA;;;AACA,eAAe,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AACrC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMc,QAAQ,GAAG,YAAY;AACzB;AACA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMd,QAAQ,CAACe,MAAT,CAAiB,mBAAkBL,KAAK,CAACM,EAAG,cAAaN,KAAK,CAACO,aAAc,GAA7E,EACvB;AAACC,QAAAA,OAAO,EAAE;AACRC,UAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,cAArB,CADP;AAERC,UAAAA,MAAM,EAAE;AAFA;AAAV,OADuB,EAKrB;AAACC,QAAAA,eAAe,EAAE;AAAlB,OALqB,CAAvB;AAMAX,MAAAA,UAAU,CAAC;AAACD,QAAAA,OAAO,EAAE,aAAV;AAAyBa,QAAAA,QAAQ,EAAE;AAAnC,OAAD,CAAV;AACD,KARD,CAQE,MAAM;AACNZ,MAAAA,UAAU,CAAC;AAACD,QAAAA,OAAO,EAAE,qBAAV;AAAiCa,QAAAA,QAAQ,EAAE;AAA3C,OAAD,CAAV;AACD;AACJ,GAbD;;AAcA,sBACE,QAAC,QAAD;AAAU,IAAA,OAAO,MAAjB;AAAA,eACGb,OAAO,CAACA,OAAR,iBACD,QAAC,KAAD;AAAO,MAAA,QAAQ,EAAEA,OAAO,CAACa,QAAzB;AAAA,gBACGb,OAAO,CAACA;AADX;AAAA;AAAA;AAAA;AAAA,YAFF,eAME,QAAC,cAAD;AAAA,6BACE,QAAC,MAAD;AACA,QAAA,GAAG,EAAED,KAAK,CAACe;AADX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YANF,eAWE,QAAC,YAAD;AACE,MAAA,OAAO,EAAEf,KAAK,CAACgB;AADjB;AAAA;AAAA;AAAA;AAAA,YAXF,eAcE,QAAC,uBAAD;AAAA,6BACE,QAAC,MAAD;AACE,QAAA,SAAS,eAAE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBADb;AAEE,QAAA,OAAO,EAAEb,QAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAdF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAwBH;;GAzCuBJ,S;;KAAAA,S","sourcesContent":["import React, {useState} from \"react\";\nimport requests from \"../../requests\";\n\nimport { Alert,\n        Avatar,\n        Button,\n        ListItem,\n        ListItemAvatar,\n        ListItemText,\n        ListItemSecondaryAction,\n        } from \"@mui/material\";\nimport ClearIcon from '@mui/icons-material/Clear'\n\n// assuming props contains all the author attributes of the follower, and the id of the current user\nexport default function Following(props) {\n    const [message, setMessage] = useState({});\n\n    const unfollow = async () => {\n        // send DELETE request to\n        try {\n          const response = await requests.delete(`service/authors/${props.id}/followers/${props.currentUserId}/`,\n          {headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json',\n            }},\n            {withCredentials: true});\n          setMessage({message: \"Unfollowed.\", severity: \"success\"});\n        } catch {\n          setMessage({message: \"Failed to unfollow.\", severity: \"error\"});\n        }   \n    }\n    return (\n      <ListItem divider>\n        {message.message && (\n        <Alert severity={message.severity}>\n          {message.message}\n        </Alert>\n        )}\n        <ListItemAvatar>\n          <Avatar\n          src={props.profileImage}\n          />\n        </ListItemAvatar>\n        <ListItemText\n          primary={props.displayName}\n        />\n        <ListItemSecondaryAction>\n          <Button \n            startIcon={<ClearIcon />}\n            onClick={unfollow}>\n              Unfollow\n          </Button>\n        </ListItemSecondaryAction>\n      </ListItem>\n    );\n}"]},"metadata":{},"sourceType":"module"}