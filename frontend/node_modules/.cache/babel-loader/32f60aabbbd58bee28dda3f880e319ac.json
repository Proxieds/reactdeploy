{"ast":null,"code":"var _jsxFileName = \"/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Inbox/Post.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport requests from \"../../requests\";\nimport './Post.css';\nimport { Alert, Avatar, Button, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction, ImageListItem, TextField } from \"@mui/material\";\nimport ThumbUp from '@mui/icons-material/ThumbUp';\nimport Send from '@mui/icons-material/Send'; // assuming props contains all the post attributes\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Post(props) {\n  _s();\n\n  const [error, setError] = useState(\"\");\n  const [commentText, setCommentText] = useState(\"\");\n\n  const styles = theme => ({\n    listItemText: {\n      fontSize: '1'\n    }\n  });\n\n  const like = async () => {\n    // send POST request to authors/{authorId}/inbox/ with a like\n    console.log('clicked like');\n\n    try {\n      const response = await requests.post(`service/authors/${props.currentUser}/inbox/`, {\n        headers: {\n          Authorization: localStorage.getItem('access_token'),\n          accept: 'application/json'\n        },\n        summary: props.author.displayName + \" likes your post.\",\n        type: \"Like\",\n        author: props.author,\n        object: props.author.id + \"/posts/\" + props.post.id\n      }, {\n        withCredentials: true\n      });\n    } catch {\n      setError(\"Failed to send like.\");\n    }\n  };\n\n  const comment = async () => {\n    // send POST request to authors/{authorId}/posts/{postId}/comments/ with a comment\n    console.log('clicked comment'); //try {\n\n    const response = await requests.post(`service/authors/${props.currentUser}/posts/${props.post.id}/comments/`, {\n      post_id: props.post.id,\n      comment: commentText,\n      contentType: \"text/markdown\",\n      author: props.author\n    }, {\n      headers: {\n        Authorization: localStorage.getItem('access_token'),\n        accept: 'application/json'\n      }\n    }, {\n      withCredentials: true\n    });\n    /*} catch {\n      setError(\"Failed to send comment.\");\n    } */\n  };\n\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n      id: \"title\",\n      primaryTypographyProps: {\n        fontSize: '30px'\n      },\n      primary: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n      id: \"author\",\n      primary: \"By: \" + props.author.displayName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), (props.contentType == \"text/markdown\" || props.contentType == \"text/plain\") && /*#__PURE__*/_jsxDEV(ListItemText, {\n      primary: props.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 89\n    }, this), (props.contentType == \"application/base64\" || props.contentType == \"image/png;base64\" || props.contentType == \"image/jpeg;base64\") && /*#__PURE__*/_jsxDEV(ImageListItem, {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: props.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 144\n    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n      id: \"description\",\n      primary: props.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"comment-like-section\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        id: \"like-button\",\n        startIcon: /*#__PURE__*/_jsxDEV(ThumbUp, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 24\n        }, this),\n        onClick: like,\n        children: \"Like\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"comment-section\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"commentBox\",\n          label: \"Comment\",\n          variant: \"filled\",\n          defaultValue: \"\",\n          onChange: e => {\n            setCommentText(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          id: \"comment-button\",\n          startIcon: /*#__PURE__*/_jsxDEV(Send, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 28\n          }, this),\n          onClick: comment,\n          children: \"Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Post, \"YyDkyjg9bad9N0eGWj3kc156sGY=\");\n\n_c = Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Inbox/Post.js"],"names":["React","useState","requests","Alert","Avatar","Button","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","ImageListItem","TextField","ThumbUp","Send","Post","props","error","setError","commentText","setCommentText","styles","theme","listItemText","fontSize","like","console","log","response","post","currentUser","headers","Authorization","localStorage","getItem","accept","summary","author","displayName","type","object","id","withCredentials","comment","post_id","contentType","title","content","description","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport requests from \"../../requests\";\nimport './Post.css'\n\nimport { Alert,\n        Avatar,\n        Button,\n        ListItem,\n        ListItemAvatar,\n        ListItemText,\n        ListItemSecondaryAction,\n        ImageListItem,\n        TextField,\n        } from \"@mui/material\";\nimport ThumbUp from '@mui/icons-material/ThumbUp'\nimport Send from '@mui/icons-material/Send'\n\n// assuming props contains all the post attributes\nexport default function Post(props) {\n    const [error, setError] = useState(\"\");\n    const [commentText, setCommentText] = useState(\"\")\n\n    const styles = theme => ({\n        listItemText:{\n          fontSize: '1',\n        }\n      });\n\n    const like = async () => {\n        // send POST request to authors/{authorId}/inbox/ with a like\n        console.log('clicked like');\n        try {\n          const response = await requests.post(`service/authors/${props.currentUser}/inbox/`,\n          {headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json',\n          },\n          summary: props.author.displayName + \" likes your post.\",\n          type: \"Like\",\n          author: props.author,\n          object: props.author.id + \"/posts/\" + props.post.id\n          },\n          {withCredentials: true});\n        } catch {\n          setError(\"Failed to send like.\");\n        }   \n    }\n\n\n    const comment = async () => {\n        // send POST request to authors/{authorId}/posts/{postId}/comments/ with a comment\n        console.log('clicked comment')\n        //try {\n            const response = await requests.post(`service/authors/${props.currentUser}/posts/${props.post.id}/comments/`,\n            {\n            post_id: props.post.id,\n            comment: commentText,\n            contentType: \"text/markdown\",\n            author: props.author\n            },\n            {headers: {\n                Authorization: localStorage.getItem('access_token'),\n                accept: 'application/json',\n              }\n            },\n            {withCredentials: true});\n        /*} catch {\n          setError(\"Failed to send comment.\");\n        } */  \n    }\n    return (\n      <ListItem>\n        <ListItemText\n          id=\"title\"\n          primaryTypographyProps={{fontSize: '30px'}}\n          primary={props.title}\n        />\n        <ListItemText\n          id=\"author\"\n          primary={\"By: \" + props.author.displayName}\n        />\n        {(props.contentType == \"text/markdown\" || props.contentType == \"text/plain\") && <ListItemText\n          primary={props.content}\n        />}\n        {(props.contentType == \"application/base64\" || props.contentType == \"image/png;base64\" || props.contentType == \"image/jpeg;base64\") && <ImageListItem\n          children={<img src={props.content}></img>}\n        />}\n        <ListItemText\n          id=\"description\"\n          primary={props.description}\n        />\n        <div id=\"comment-like-section\">\n            <Button \n            id=\"like-button\"\n            startIcon={<ThumbUp />}\n            onClick={like}>\n                Like\n            </Button>\n            <span id=\"comment-section\">\n                <TextField id=\"commentBox\" label=\"Comment\" variant=\"filled\" defaultValue=\"\" onChange={e => {setCommentText(e.target.value)}}/>\n                <Button\n                id=\"comment-button\" \n                startIcon={<Send />}\n                onClick={comment}>\n                    Comment\n                </Button>\n            </span>\n        </div>\n      </ListItem>\n    );\n}"]},"metadata":{},"sourceType":"module"}