{"ast":null,"code":"var _jsxFileName = \"/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/FollowRequest.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport requests from \"../../requests\";\nimport { Alert, Avatar, Button, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction } from \"@mui/material\";\nimport ClearIcon from '@mui/icons-material/Clear';\nimport CheckIcon from '@mui/icons-material/Check'; // assuming props contains all the author attributes of the person who\n// sent the follow request, and the id of the current user\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FollowRequest(props) {\n  _s();\n\n  const [error, setError] = useState(\"\");\n\n  const acceptFollowRequest = async () => {\n    // send PUT request to author_id/followers/follower_id\n    console.log('clicked accept');\n\n    try {\n      const response = await requests.put(`service/authors/${props.currentUserId}/followers/${props.id}/`, {\n        headers: {\n          Authorization: localStorage.getItem('access_token'),\n          accept: 'application/json'\n        }\n      }, {\n        withCredentials: true\n      });\n    } catch {\n      setError(\"Failed to accept follow request.\");\n    }\n  };\n\n  const rejectFollowRequest = async () => {\n    // send DELETE request to author_id/followers/follower_id\n    console.log('clicked reject');\n\n    try {\n      const response = await requests.delete(`service/authors/${props.currentUserId}/followers/${props.id}/`, {\n        headers: {\n          Authorization: localStorage.getItem('access_token'),\n          accept: 'application/json'\n        }\n      }, {\n        withCredentials: true\n      });\n    } catch {\n      setError(\"Failed to reject follow request.\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListItemAvatar, {\n      children: /*#__PURE__*/_jsxDEV(Avatar, {\n        src: props.profileImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), props.accepted ? /*#__PURE__*/_jsxDEV(ListItemText, {\n      primary: \"You accepted \" + props.displayName + \"\\'s follow request\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(ListItemText, {\n      primary: props.displayName + \" wants to follow you\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 16\n    }, this), !props.accepted && /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(CheckIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 24\n        }, this),\n        onClick: acceptFollowRequest,\n        children: \"Accept\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 24\n        }, this),\n        onClick: rejectFollowRequest,\n        children: \"Reject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 7\n  }, this);\n}\n\n_s(FollowRequest, \"Wysf5k9/9rbzWl+spWgJpEWy35U=\");\n\n_c = FollowRequest;\n\nvar _c;\n\n$RefreshReg$(_c, \"FollowRequest\");","map":{"version":3,"sources":["/Users/victorlieu/Desktop/Development/404Project/frontend/src/components/Followers/FollowRequest.js"],"names":["React","useState","requests","Alert","Avatar","Button","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","ClearIcon","CheckIcon","FollowRequest","props","error","setError","acceptFollowRequest","console","log","response","put","currentUserId","id","headers","Authorization","localStorage","getItem","accept","withCredentials","rejectFollowRequest","delete","profileImage","accepted","displayName"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport requests from \"../../requests\";\n\nimport { Alert,\n        Avatar,\n        Button,\n        ListItem,\n        ListItemAvatar,\n        ListItemText,\n        ListItemSecondaryAction,\n        } from \"@mui/material\";\nimport ClearIcon from '@mui/icons-material/Clear'\nimport CheckIcon from '@mui/icons-material/Check'\n\n// assuming props contains all the author attributes of the person who\n// sent the follow request, and the id of the current user\nexport default function FollowRequest(props) {\n    const [error, setError] = useState(\"\");\n\n    const acceptFollowRequest = async () => {\n        // send PUT request to author_id/followers/follower_id\n        console.log('clicked accept');\n        try {\n          const response = await requests.put(`service/authors/${props.currentUserId}/followers/${props.id}/`,\n          {headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json',\n          }},\n          {withCredentials: true});\n        } catch {\n          setError(\"Failed to accept follow request.\");\n        }   \n    }\n\n\n    const rejectFollowRequest = async () => {\n        // send DELETE request to author_id/followers/follower_id\n        console.log('clicked reject')\n        try {\n          const response = await requests.delete(`service/authors/${props.currentUserId}/followers/${props.id}/`,\n          {headers: {\n            Authorization: localStorage.getItem('access_token'),\n            accept: 'application/json',\n          }},\n          {withCredentials: true});\n        } catch {\n          setError(\"Failed to reject follow request.\");\n        }   \n    }\n    return (\n      <ListItem>\n        {error && (\n        <Alert severity=\"error\">\n          {error}\n        </Alert>\n        )}\n        <ListItemAvatar>\n          <Avatar\n          src={props.profileImage}\n          />\n        </ListItemAvatar>\n        {props.accepted ? (<ListItemText primary={\"You accepted \" + props.displayName + \"\\'s follow request\"}/>)  \n            : (<ListItemText primary={props.displayName + \" wants to follow you\"}\n        />)}\n        {!props.accepted && <ListItemSecondaryAction>\n          <Button \n            startIcon={<CheckIcon />}\n            onClick={acceptFollowRequest}>\n              Accept\n          </Button>\n          <Button \n            startIcon={<ClearIcon />}\n            onClick={rejectFollowRequest}>\n              Reject\n          </Button>\n        </ListItemSecondaryAction>}\n      </ListItem>\n    );\n}"]},"metadata":{},"sourceType":"module"}